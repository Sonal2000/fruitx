(window.webpackJsonp=window.webpackJsonp||[]).push([["client"],{"./app/ui/client/index.js":function(e,t,a){"use strict";a.r(t);var o=a("./node_modules/jquery/dist/jquery.js"),n=a.n(o),i=a("./node_modules/url-search-params/build/url-search-params.node.js"),s=a("./node_modules/@shopify/marketing-assets/javascripts/index.js");var r={setIsSubscribedToEmailUpdate(e){const t=new Date(Date.now()+31536e7);s.cookieHelper.set("subscribed",Boolean(e),{expires:t.toUTCString(),path:"/"})},getIsSubscribedToEmailUpdate:()=>s.cookieHelper.get("subscribed")};const c="external_referrer",d=document.referrer,l=new Date(Date.now()+31536e7);function p(){return s.cookieHelper.get(c)}var u={setReferrer(){d&&0===d.indexOf("".concat(location.protocol,"//").concat(location.host))?s.cookieHelper.set("internal_referrer",d.replace("".concat(location.protocol,"//").concat(location.host),""),{expires:l.toUTCString(),path:"/"}):p()||s.cookieHelper.set(c,d,{expires:l.toUTCString(),path:"/"})},getExternalReferrer:()=>p(),getInternalReferrer:()=>s.cookieHelper.get("internal_referrer")};var m=class{constructor(e){e.length&&(this.$templateHtml=e,this.modal=new s.Modal(n()(null),()=>this.$templateHtml.first().get(0).outerHTML,{preventEventDefault:!1,afterModalRender:this._afterModalRender.bind(this)}))}open(e){if(this.success=e.success,this.skipped=e.skipped,!this.$templateHtml)throw new Error("Couldn't open modal because the supplied modal template could not be found in the DOM");this.$templateHtml.find(".membership-waitlist-modal__image").css("background-image","url(".concat(e.imageUrl,")")),this.$templateHtml.find(".membership-waitlist-modal__heading").text(e.heading),this.$templateHtml.find(".subscribe__success__heading").text(e.successHeading),this.$templateHtml.find(".subscribe__submit").text(e.cta),e.secondaryCta?this.$templateHtml.find(".membership-waitlist-modal__secondary-cta").text(e.secondaryCta).show():this.$templateHtml.find(".membership-waitlist-modal__secondary-cta").hide(),this.modal.open()}_afterModalRender(e){const t=e.find(".js-subscribe-with-tracker");new s.Subscribe(t,{onSuccess:()=>{r.setIsSubscribedToEmailUpdate(!0),this.modal.close(),this.success()}}),e.find(".membership-waitlist-modal__secondary-cta").on("click",()=>{this.modal.close(),this.skipped()})}};const h=Object.freeze({TILE_CLICK:{name:"tile_click",triggerEvent:"click",nonInteraction:!1},TILE_VIEW:{name:"tile_view",triggerEvent:"lazybeforeunveil",nonInteraction:!0}});class f{constructor(e,t){var a,o,n;a=this,o="customNamespace",n=s.config.get("customGoogleAnalyticsNamespace",null),o in a?Object.defineProperty(a,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[o]=n,e.on(t.triggerEvent,()=>{const a=e.data("photoId"),o=e.data("categoryHandle"),n={hitType:"event",eventCategory:"PhotoStat",eventAction:t.name,eventLabel:"",eventValue:t.value,nonInteraction:t.nonInteraction,dimension1:a.toString(),dimension2:window.Burst.urlLocale,dimension3:o||null,dimension5:window.Burst.abTestGroup};this.trackGaEvent(n)})}trackGaEvent(e){n.a.isFunction(window._gaUTracker)&&(window._gaUTracker("send",e),this.customNamespace&&window._gaUTracker("".concat(this.customNamespace,".send"),e))}}function b(e){this.$carousel=e,this.$contentWrapper=this.$carousel.find(".js-scrollable-carousel-content-wrapper"),this.$previous=this.$carousel.find(".js-previous"),this.$next=this.$carousel.find(".js-next"),this.$images=this.$contentWrapper.find("img"),this.onAllImagesHaveClientWidth(()=>{this.setWidth(),this.handleScroll()}),this.$contentWrapper.on("scroll",s.utils.debounce(this.handleScroll.bind(this),100)),n()(window).on("resize",s.utils.debounce(this.setWidth.bind(this),100)),this.$next.on("click",this.handleNext.bind(this)),this.$previous.on("click",this.handlePrevious.bind(this))}b.prototype.handleScroll=function(){const e=this.$contentWrapper[0].scrollLeft,t=this.$contentWrapper[0].scrollWidth;e<=5?this.$previous.prop("disabled",!0):this.$previous.prop("disabled",!1),e>=t-this.contentWrapperWidth-5?this.$next.prop("disabled",!0):this.$next.prop("disabled",!1)},b.prototype.setWidth=function(){this.contentWrapperWidth=this.$contentWrapper[0].clientWidth;const e=this.$contentWrapper[0].scrollWidth;this.contentWrapperWidth<e?this.$next.prop("disabled",!1):this.$next.prop("disabled",!0)},b.prototype.handleNext=function(){this.$contentWrapper.animate({scrollLeft:this.$contentWrapper[0].scrollLeft+this.contentWrapperWidth-150},{duration:300,queue:!1})},b.prototype.handlePrevious=function(){this.$contentWrapper.animate({scrollLeft:this.$contentWrapper[0].scrollLeft-this.contentWrapperWidth+150},{duration:300,queue:!1})},b.prototype.onAllImagesHaveClientWidth=function(e){this.checkImageWidthInterval=500,this.checkImageWidthTimeout=3e3,this.timePassedSinceInitialization=0,this.callback=e,0!==this.$images.length?this.runImageWidthChecker():e()},b.prototype.runImageWidthChecker=function(){this.timePassedSinceInitialization+=this.checkImageWidthInterval,this.checkAllImagesHaveClientWidth()||this.timePassedSinceInitialization>=this.checkImageWidthTimeout?this.callback():setTimeout(this.runImageWidthChecker.bind(this),this.checkImageWidthInterval)},b.prototype.checkAllImagesHaveClientWidth=function(){let e=!0;return this.$images.each((t,a)=>{0!==a.clientWidth&&void 0!==a.clientWidth||(e=!1)}),e};var g=b;a("./node_modules/jquery-typeahead/dist/jquery.typeahead.min.js");function w(e){this.$form=e,this.handleSubmit.bind(this),this.$form.on("submit",this.handleSubmit),this.$form.find(".js-typeahead").typeahead({maxItem:8,maxItemPerGroup:5,cancelButton:!1,group:{template:"{{group}}"},source:{photos:{minLength:1,data:window.Burst.searchAutocompleteSuggestions,href:e=>"/photos/search?q=".concat(encodeURIComponent(e.display))},photographers:{minLength:3,display:["name","username"],data:window.Burst.searchPhotographerSuggestions,href:e=>e.url,template:'{{name}} <span class="search-form__suggestion-misc">@{{username}}</span>'}},callback:{onShowLayout:()=>{this.$form.find(".search-form__suggestions-wrapper").show()},onHideLayout:()=>{this.$form.find(".search-form__suggestions-wrapper").hide()}},selector:{result:"search-form__suggestions-wrapper",list:"search-form__suggestions-list",item:"search-form__suggestion",group:"search-form__group-header"}})}w.prototype.handleSubmit=function(e){const t=n()(e.currentTarget).find('[name="q"]');n.a.trim(t.val())||e.preventDefault()};var _=w;function v(e){let t=e;return 0===e.indexOf("//")&&(t=location.protocol+e),t.toLowerCase().replace(/([a-z])?:\/\//,"$1").split("/")[0]}var y=class{constructor(e){var t,a,o;o="tile__overlay--is-visible",(a="TILE_OVERLAY_VISIBLE_CLASS")in(t=this)?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,this.$element=e;const n=e.find(".tile__overlay"),i=e.find(".tile__overlay-trigger"),s=e.find(".tile__overlay-close");i.on("click",()=>{this.renderCredit(),n.addClass(this.TILE_OVERLAY_VISIBLE_CLASS)}),s.on("click",()=>{n.removeClass(this.TILE_OVERLAY_VISIBLE_CLASS)})}renderCredit(){const e=this.$element.find(".give-credit"),{authorName:t,creditAuthorUrl:a,creditCategoryUrl:o}=e.data(),i=n()("<a>").attr("href",o).text("Burst").prop("outerHTML");let r;if(a){const e=n()("<a>").attr("href",a).text(t);((c=a).indexOf(":")>-1||c.indexOf("//")>-1)&&v(location.href)!==v(c)&&e.attr({rel:"nofollow noopener",target:"_blank"}),r=e.prop("outerHTML")}else r=t;var c;e.find("[data-text-give-credit]").text(s.i18n.t("credit.give_credit",{author:t})),e.find("[data-text-credit-html]").html(s.i18n.t("credit.credit_html",{author:r,burst:i}))}},j=a("./node_modules/dropzone/dist/dropzone.js"),k=a.n(j);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,o)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach(function(t){S(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var x=class{constructor(e,t,a,o,i=(()=>{})){this.$template=n()(e),this.options=C({},{paramName:()=>"image_files[]",params:null,maxFiles:10,parallelUploads:10,acceptedFiles:".jpg,.jpeg",maxFilesize:30},{},a),this._updatePrompt=this._updatePrompt.bind(this);const s=this.$template.find(".dropzone-preview-template .dropzone-preview");this.options.parallelUploads<this.options.maxFiles&&s.addClass("dropzone-preview--parallel-upload"),this.dropzone=new k.a(e,C({},this.options,{url:t,maxThumbnailFilesize:this.options.maxFilesize,parallelUploads:this.options.parallelUploads,autoProcessQueue:!1,uploadMultiple:!0,timeout:6e5,previewTemplate:s[0].outerHTML,previewsContainer:this.$template.find(".dropzone-previews")[0],clickable:[e,this.$template.find(".dropzone-upload-prompt")[0]],accept:(e,t)=>{t(),this._updatePrompt()}})),this.uploadHasError=!1,this.dropzone.on("addedfile",this._updatePrompt),this.dropzone.on("removedfile",this._updatePrompt),this.dropzone.on("maxfilesexceeded",e=>{this.dropzone.removeFile(e)}),this.dropzone.on("error",()=>{this.uploadHasError=!0}),this.dropzone.on("complete",e=>{e.accepted&&this.dropzone.getQueuedFiles().length>0&&this.dropzone.processQueue()}),this.dropzone.on("queuecomplete",()=>{i(),this.uploadHasError||o()})}processUpload(){this.uploadHasError=!1,this.dropzone.files.forEach(e=>{e.accepted&&(e.status="queued")}),this.dropzone.processQueue()}getAcceptedFilesCount(){return this.dropzone.getAcceptedFiles().length}_updatePrompt(){const e=this.dropzone.files.length,t=this.dropzone.getAcceptedFiles().length,a=this.$template.find(".dropzone-prompt"),o=this.$template.find(".dropzone-upload-count"),n=this.$template.find(".dropzone-upload-prompt");0===e?a.hide():a.show(),t<this.options.maxFiles?n.show():n.hide(),o.text(s.i18n.t("dropzone.upload_count",{count:t,max:this.options.maxFiles}))}},$=a("./node_modules/clipboard/lib/clipboard.js"),U=a.n($);var T=function(e){new U.a(e,{text(e){const t=n()(e).data("clipboard-target-selector");return n()(t).html().trim()}}).on("success",e=>{const t=n()(e.trigger).data("success-text");n()(e.trigger).text(t)})};var H=function(e,t){if(!t.length)return;const a=t.first().get(0).outerHTML;new s.Modal(e,()=>a,{clickingOverlayClosesModal:!1,afterModalRender:e=>{const t=e.find("form"),a=n()('meta[name="csrf-param"]').prop("content"),o=n()('meta[name="csrf-token"]').prop("content"),i={};i[a]=o;const r=new x(t.find(".dropzone")[0],t.data("photo-submissions-path"),{params:()=>i},function(){t.find(".contributor-application-modal__form-content").addClass("hidden"),t.find(".contributor-application-modal__success-message").removeClass("hidden")},function(){t.find(".contributor-application-modal__form-content").removeClass("marketing-form--is-loading"),t.find(".contributor-application-modal__submit").prop("disabled",!1)});new s.AjaxForm(t,[{name:"contributor_application[email]",fn:s.FormsApi.validateEmail},{name:"uploads_validation",fn(){const e={};return r.getAcceptedFilesCount()<=0&&(e.no_uploads=!0),e}},{name:"contributor_application[country]",fn(e){const a={};return"Other"===e&&(t.find(".contributor-application-modal__invalid-country").removeClass("hidden"),a.invalid_country=!0),a}},{name:"agree_to_service_terms",fn(e){const t={};return"0"===e&&(t.must_agree=!0),t}}],{i18nScope:"contributor_application_modal.errors",onSuccess(e){const a=e.responseJSON.data.contributor_application_id;i.contributor_application_id=a,t.find(".marketing-form__messages").text(""),t.find(".contributor-application-modal__form-content").addClass("marketing-form--is-loading"),t.find(".contributor-application-modal__submit").prop("disabled",!0),r.processUpload(),s.analytics.track("ContributorApplicationModal","Submission")}})}})};var W=function(e,t,a){if(!t.length)return;const o=t.first().get(0).outerHTML,n=new s.Modal(e,()=>o,{clickingOverlayClosesModal:!1});!0===a&&n.open()},E=a("./node_modules/masonry-layout/masonry.js"),z=a.n(E);var L=function(e,t){const a=[];n()(e).each((e,o)=>{a[e]=new z.a(o,{columnWidth:t,itemSelector:t,percentPosition:!0,transitionDuration:50})}),n()(window).on("resize",s.utils.debounce(()=>{n()(a).each((e,t)=>{t.layout()})},10))};var P=function(){k.a.autoDiscover=!1};var O=function(){const e=n()('meta[name="csrf-param"]').prop("content"),t=n()('meta[name="csrf-token"]').prop("content"),a={};a[e]=t,n()(".js-author-upload").each((e,t)=>{const o=n()(t),i=o.find(".dropzone")[0],s=o.data("author-photo-submissions-path"),r=o.data("author-id"),c=o.find(".js-author-upload__success-show"),d=o.find(".js-author-upload__success-hide"),l=o.find(".js-author-upload__submit");const p={params:a,maxFiles:50,parallelUploads:2};c.addClass("hidden"),a.author_id=r;const u=new x(i,s,p,function(){d.addClass("hidden"),c.removeClass("hidden")},function(){l.prop("disabled",!1)});l.on("click",()=>{u.processUpload(),l.prop("disabled",!0)})})};s.config.set("customGoogleAnalyticsNamespace","_burst"),s.config.set("defaultGoogleAnalyticsEventData",{dimension5:window.Burst.abTestGroup}),Object(s.init)(),P(),T(".js-copy-to-clipboard"),L(".js-masonry-grid",".grid__item"),H(n()(".js-open-contributor-application-modal"),n()(".js-contributor-application-modal-template")),O(),W(n()(".js-open-contributor-contest-finished-modal"),n()(".js-contributor-contest-finished-modal-template"),!1),function(e,t){if(!t.length)return;new s.SignupModal(e,()=>t.first().get(0).outerHTML,{modalActiveContainerClass:"signup-modal js-is-active",clickingOverlayClosesModal:!1,preventEventDefault:!1})}(n()(".js-open-contextual-signup-modal"),n()(".js-contextual-signup-modal-template"));function M(e,t){(e?e.find(".js-subscribe-with-tracker"):n()(".js-subscribe-with-tracker")).each((e,a)=>{new s.Subscribe(n()(a),{onSuccess:()=>{r.setIsSubscribedToEmailUpdate(!0),t&&t(a)}})})}function A(e){const t=e.split("?"),a=new i(t[1]);a.append("quality","premium"),window.location.href="".concat(t[0],"?").concat(a.toString())}function D(e){window.location.href=e}function N(e){window.location.href=e}function F(e,t,a,o){const n=["Download",a,e];t&&n.push("Modal"),s.analytics.track("Photo",n.join(": "),o)}function G(e,t,a){const o=["Download",e];t&&o.push("Modal"),s.analytics.track("Business Idea",o.join(": "),a)}function R(){return r.getIsSubscribedToEmailUpdate()||!0}new s.StickyNav({pageTopMargin:30}),new s.Announcement(n()(".announcement--webinar"),{announcementId:"webinar"}),u.setReferrer(),n()(".js-track-photo-stat-click").each((e,t)=>{new f(n()(t),h.TILE_CLICK)}),n()(".js-track-photo-stat-view").each((e,t)=>{new f(n()(t),h.TILE_VIEW)}),n()(".article-page__sidebar__sticky-menu").each((e,t)=>{""===window.location.hash&&n()(t).find(".sticky-menu-link").first().addClass("js-is-active")}),n()(".js-subscribe--signup-page").each((e,t)=>{n()(t).val(window.Burst.request.path)}),n()(".js-subscribe--signup-url").each((e,t)=>{n()(t).val(window.Burst.request.url)}),n()(".js-subscribe--country").each((e,t)=>{n()(t).val(window.Burst.country)}),n()(".js-subscribe--browser-locale").each((e,t)=>{n()(t).val(navigator.language)}),n()(".js-subscribe--url-locale").each((e,t)=>{n()(t).val(window.Burst.urlLocale)}),n()(".js-subscribe--external-referrer").each((e,t)=>{n()(t).val(u.getExternalReferrer())}),n()(".js-subscribe--internal-referrer").each((e,t)=>{n()(t).val(u.getInternalReferrer())}),M(),n()(".js-scrollable-carousel").each((e,t)=>{new g(n()(t))}),n()(".js-product-carousel").each((e,t)=>{new s.Carousel(n()(t))}),n()(".js-accordion").each((e,t)=>{new s.Accordion(n()(t),{mobileOnly:!1,itemSelector:".accordion-item"})}),n()(".js-email").each((e,t)=>{const a=n()(t).data("domain")||"shopify.com",o=n()(t).data("username"),i=n()(t).data("subject"),s=n()(t).data("body");n()(t).on("click",()=>{window.location.href="mailto:".concat(o,"@").concat(a.substring(0),"?").concat(n.a.param({subject:i,body:s}))})}),n()(".js-search-form").each((e,t)=>{new _(n()(t))});const B=new m(n()(".js-membership-waitlist-modal-template"));if(n()(".tile--with-overlay").each((e,t)=>{new y(n()(t))}),n()(".js-download-starterkit").on("click",e=>{e.preventDefault();const t=n()(e.currentTarget);if(r.getIsSubscribedToEmailUpdate())return G(t.data("downloadGaUiName"),!1,t.data("businessIdeaTitle")),void N(t.data("downloadUrl"));e.stopImmediatePropagation(),B.open({imageUrl:t.data("modalImageUrl"),heading:t.data("modalHeading"),successHeading:t.data("modalSuccessHeading"),cta:t.data("modalCta"),secondaryCta:!1,success:()=>{G(t.data("downloadGaUiName"),!0,t.data("businessIdeaTitle")),N(t.data("downloadUrl"))}})}),n()(".js-download-premium").on("click",e=>{const t=n()(e.currentTarget),a=t.data("photoTitle");if(R())return F(t.data("downloadGaUiName"),!1,"Premium",a),void A(t.data("downloadUrl"));e.stopImmediatePropagation(),B.open({imageUrl:t.data("modalImageUrl"),heading:t.data("modalHeading"),successHeading:t.data("modalSuccessHeading"),cta:t.data("modalCta"),secondaryCta:t.data("modalSecondaryCta"),success(){F(t.data("downloadGaUiName"),!0,"Premium",a),A(t.data("downloadUrl"))},skipped(){F(t.data("downloadGaUiName"),!0,"Standard",a),D(t.data("downloadUrl"))}})}),n()(".js-track-photo-download-standard").on("click",e=>{const t=n()(e.currentTarget);F(t.data("downloadGaUiName"),!1,"Standard",t.data("photoTitle"))}),n()(".js-download-selected-quality").on("submit",e=>{const t=n()(e.currentTarget),a=t.find('input[name="quality"]:checked').val(),o=t.data("photoTitle");n()(".photo__centered-frame__overlay").addClass("active"),"premium"===a?R()?F(t.data("downloadGaUiName"),!1,"Premium",o):(e.preventDefault(),e.stopImmediatePropagation(),B.open({imageUrl:t.data("modalImageUrl"),heading:t.data("modalHeading"),successHeading:t.data("modalSuccessHeading"),cta:t.data("modalCta"),secondaryCta:t.data("modalSecondaryCta"),success(){F(t.data("downloadGaUiName"),!0,"Premium",o),A(t.attr("action"))},skipped(){F(t.data("downloadGaUiName"),!0,"Standard",o),D(t.attr("action"))}})):F(t.data("downloadGaUiName"),!1,"Standard",o)}),n()(".js-send-and-subscribe__submit").on("click",e=>{const t=n()(e.currentTarget).parents(".send-and-subscribe"),a=t.find(".js-send-and-subscribe__checkbox"),o=encodeURIComponent(t.find(".send-and-subscribe__email").val()),i=encodeURIComponent(t.data("emailSubject")),s=encodeURIComponent(t.data("emailBody"));a.is(":checked")||e.preventDefault(),window.location.href="mailto:".concat(o,"?subject=").concat(i,"&body=").concat(s)}),n()(".js-contextual-subscribe-modal-template").length&&!r.getIsSubscribedToEmailUpdate()){const e=n()(".js-contextual-subscribe-modal-template").first().get(0).outerHTML,t=new s.Modal(n()(null),()=>e,{preventEventDefault:!1,afterModalRender(e){M(e)}});n()(".js-open-contextual-subscribe-modal").on("click",()=>{t.open()}),n()(".js-open-contextual-subscribe-modal-on-third").on("click",()=>{const e=new Date(Date.now()+31536e7);let a=s.cookieHelper.get("downloads")||0;s.cookieHelper.set("downloads",++a,{expires:e.toUTCString(),path:"/"}),a%3!=1||r.getIsSubscribedToEmailUpdate()||t.open()})}}},[["./app/ui/client/index.js","runtime","vendors~client"]]]);
//# sourceMappingURL=client-70497fae9311bbd5795afd4f41565a670aab1878deccd902df9c2299ea871c75.js.map